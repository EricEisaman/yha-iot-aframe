<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Starter app with Google Firebase and Socket.IO">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YHA-IoT</title>
  <link rel="stylesheet" href="main.css">
    <!-- Material Design Lite -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.1.3/material.blue_grey-orange.min.css">
  <script src="https://code.getmdl.io/1.1.3/material.min.js"></script>
  <!-- Load the Socket.io networking library -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyC_8I1z7gVEAGyz5V76Le6MJwP0Vj2YPPI",
      authDomain: "yha-iot.firebaseapp.com",
      databaseURL: "https://yha-iot.firebaseio.com",
      projectId: "yha-iot",
      storageBucket: "yha-iot.appspot.com",
      messagingSenderId: "145122764209"
    };
    firebase.initializeApp(config);
  </script>
  <link rel="icon" type="image/png" href="https://cdn.glitch.com/1a3d0526-b227-48ca-95b7-53e806694f71%2Ffavicon.png?1518981450363" />
  <!-- A-Frame -->
  <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/feiss/aframe-environment-component/ad57b15d/dist/aframe-environment-component.min.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.12.4/dist/aframe-extras.min.js"></script>
  <script src="https://rawgit.com/takahirox/aframe-deferred-renderer/master/build/aframe-deferred-renderer.min.js"></script>
  <script src="aframe-door-component.js"></script>
  <script src="./js/material-displacement.js"></script>
</head>
<body>
<div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <!-- Splash screen -->
  <section id="page-splash">
    <img src="https://cdn.glitch.com/1a3d0526-b227-48ca-95b7-53e806694f71%2Fyha-iot.png?1517079350329">
    <h2>IoT Application Starter</h2>
    <h4>Remix this project and add your credentials to .env to get started</h4>
    <h4></h4>
    <div>
      <button id="sign-in-button" class="mdl-button--raised mdl-button mdl-js-button mdl-js-ripple-effect">
        <i class="material-icons">account_circle</i> Sign in with Google</button>
    </div>
  </section>
  <!-- Application screen -->
  <section id="page-app">
    <img src="https://cdn.glitch.com/1a3d0526-b227-48ca-95b7-53e806694f71%2Fyha-iot.png?1517079350329">
    <h2>Application Screen</h2>
    <div id="user-ids"></div>
    <div>
      <button id="sign-out-button" class="mdl-button--raised mdl-button mdl-js-button mdl-js-ripple-effect">
        <i class="material-icons">account_circle</i> Sign Out</button>
    </div>
        <a-scene id="scene-1"
             lighting="none"
             environment="dressingAmount:40;
                          seed: 5; 
                          shadow: true; 
                          preset:forest; 
                          playArea:100;
                          skyType:gradient;
                          skyColor:gray;
                          horizonColor:#454545;
                          lightPosition: 1 5 -2;">
        <!-- Asset management system. -->
        <a-assets timeout="30000000">
          <a-asset-item id="trigger" src="NEVERLOADUNTILITELLITTO.whatever"></a-asset-item>
          <a-asset-item id="torch-dae" 
          src="https://cdn.glitch.com/5faad75f-43d3-493a-8545-e6d9345594e7%2Ftorch.dae?1511456039230">
          </a-asset-item>
          <a-asset-item id="mainBldg-ply"
          src="https://cdn.glitch.com/5faad75f-43d3-493a-8545-e6d9345594e7%2F40Test10HighWall.ply?1511393508712">
          </a-asset-item>
          <!--<a-asset-item id="horse-mtl" src="horse.mtl"></a-asset-item>
          <a-mixin id="giant" scale="5 5 5"></a-mixin>
          <video id="kentucky-derby" src="derby.mp4"></video>
          <audio id="neigh" src="neigh.mp3"></audio> -->
          <img id="imgWood" src="https://cdn.glitch.com/5faad75f-43d3-493a-8545-e6d9345594e7%2Fwood2.jpg?1511654705490"
               crossorigin="anonymous">
          <img id="imgFlame" src="https://cdn.glitch.com/5faad75f-43d3-493a-8545-e6d9345594e7%2Fflame.png?1511461117758"
               crossorigin="anonymous">
          <img id="imgClubSign" 
               src="https://cdn.glitch.com/9417889b-8921-4cc4-b3f6-cc16e79c5b71%2Fyha.png?1520538604728" 
               crossorigin="anonymous">
          <img id="imgDoor" 
               src="https://cdn.glitch.com/5faad75f-43d3-493a-8545-e6d9345594e7%2Fclub-door.png?1511662888749" 
               crossorigin="anonymous">
        </a-assets>
      <!-- Player -->
      <a-entity id="player"
                camera
                universal-controls
                position="-6.95 1.589 26.74"
                rotation="8.976 -92.26 0.0"
                kinematic-body="radius: 0.8;
                                height: 1.7"
                jump-ability="maxJumps: 2;
                              distance: 4;">
      </a-entity>
      <!-- Twitter Sign -->
      <a-box position="10 10 34"
             rotation="0 -90 0"
             color="white"
             width="16" height="16" depth="0.1">
        <a-entity id="twitter-sign"
                  position="0 0 0.2">
        </a-entity>
      </a-box>
      <!-- Music Sign -->
      <a-box position="10 9 -19"
             rotation="0 0 0"
             color="white"
             width="16" height="16" depth="0.1">
        <a-entity id="music-sign"
                  position="0 0 0.2">
        </a-entity>
      </a-box>
      <!-- Sky Sign -->
      <a-box position="-10 9 -19"
             rotation="0 0 0"
             color="white"
             width="16" height="16" depth="0.1">
        <a-entity id="sky-sign"
                  position="0 0 0.2">
        </a-entity>
      </a-box>
      <!-- Buzz Sign -->
      <a-box position="-19 9 -9"
             rotation="0 90 0"
             color="white"
             width="16" height="16" depth="0.1">
        <a-entity id="buzz-sign"
                  position="0 0 0.2">
        </a-entity>
      </a-box>
      <!-- Magical Clouds -->
      <a-entity id="magical-cloud-1"
                position="10 18 35">
        <a-animation attribute="rotation"
               dur="10000"
               fill="forwards"
               to="0 360 0"
               repeat="indefinite">
        </a-animation>
        <a-sphere 
                material-displacement
                scale="1 1 1"
                radius="1"
                position="0 5 10"
                segments-height="128"
                segments-width="128">
          <a-animation attribute="position" 
                     direction="alternate-reverse" 
                     dur="3000" 
                     from="0 5 10" to="0 -5 10" 
                     repeat="indefinite">
          </a-animation>
        </a-sphere>
       </a-entity>
        <a-entity id="magical-cloud-2"
                position="0 28 35"
                scale="4 4 4">
        <a-animation attribute="rotation"
               dur="18000"
               fill="forwards"
               to="0 360 0"
               repeat="indefinite">
        </a-animation>
        <a-sphere
                material-displacement
                scale="1 1 1"
                radius="1"
                position="0 5 10"
                segments-height="128"
                segments-width="128">
          <a-animation attribute="position" 
                     direction="alternate-reverse" 
                     dur="5000" 
                     from="0 5 10" to="0 -5 10" 
                     repeat="indefinite">
          </a-animation>
        </a-sphere>
      </a-entity>
      <!-- Front Door -->
      <a-box id="front-door"
             src="#imgDoor"
             color="#544"
             door="openPos:0 6.8 19.5;
                   closePos:0 3 19.5;
                   dur:1200;
                   threshold:7;
                   trigger:proximity"
             width="2" height="4" depth="0.6"
             position="0 3 19.5">
      </a-box>
      <!-- Torches -->
      <a-entity id="torch-1"
                position="2.7 6.8 20.17">
        <a-entity scale="4 4 4"
                collada-model="#torch-dae"
                position="-2.7 -2.8 2.4"
                rotation="0 90 0">
        </a-entity>
        <a-entity light="type:point;color:#AAA;
                       distance:10;
                       intensity:4" 
                  position="-0.1 0 1.5">
          <a-cylinder id="torch-1-flame"
                    position="0 -0.7 -1.1"
                    color="#fff" 
                    material="src:#imgFlame;
                              transparent:true"
                    height="1" 
                    radius="0.2">
          </a-cylinder>
        </a-entity>
      </a-entity>
      <a-entity id="torch-2"
                position="-2.6 6.8 20.17">
        <a-entity scale="4 4 4"
                collada-model="#torch-dae"
                position="-2.7 -2.8 2.4"
                rotation="0 90 0">
        </a-entity>
        <a-entity light="type:point;color:#AAA;
                       distance:10;
                       intensity:4" 
                  position="-0.1 0 1.5">
          <a-cylinder id="torch-2-flame"
                    position="0 -0.7 -1.1"
                    color="#fff" 
                    material="src:#imgFlame;
                              transparent:true"
                    height="1" 
                    radius="0.2">
          </a-cylinder>
        </a-entity>
      </a-entity>
      
      <!-- Building - Made in MagicaVoxel. -->
      <a-entity id="main-building"
                rotation="-90 0 0" 
                scale="1 1 1" 
                position="0 0 0"
                ply-model="src:#mainBldg-ply"
                shadow="cast: true; receive: false">
      </a-entity>
      <!-- Sign above front entrance -->
      <a-box id="entrance-sign"
             position="0 14 20.2"
             width="10" height="3" depth="0.2"
             src="#imgClubSign">
      </a-box>
      <!--Map Physics Bodies-->
      <a-box id="front-left-wall"
             position="-10.5 9.5 19.5"
             width="19" height="17" depth="1"
             opacity="0"
             color="yellow"
             static-body></a-box>
      <a-box id="front-right-wall"
             position="10.5 9.5 19.5"
             width="19" height="17" depth="1"
             opacity="0"
             color="yellow"
             static-body></a-box>
      <a-box id="front-above-door"
             position="0 11.5 19.5"
             width="2" height="13" depth="1"
             opacity="0"
             color="yellow"
             static-body></a-box>
      <a-box id="first-floor"
             position="0 0.5 0"
             width="40" height="1" depth="40"
             opacity="0"
             color="red"
             static-body></a-box>
      <a-box id="front-door-ramp"
             position="0 -0.1 21.7"
             rotation="17 0 0"
             width="4" height="1.0" depth="4"
             opacity="1"
             color="#2b1d01"
             material="src:#imgWood; repeat: 4 1"
             static-body></a-box>
      <a-box id="second-floor"
             position="0 9.5 10"
             width="38" height="1" depth="18"
             opacity="0"
             color="yellow"
             static-body></a-box>
      <a-box id="left-wall"
             position="-19.5 9.5 0"
             width="1" height="17" depth="40"
             opacity="0"
             color="blue"
             static-body></a-box>
      <a-box id="back-wall"
             position="0 9.5 -19.5"
             width="40" height="17" depth="1"
             opacity="0"
             color="green"
             static-body></a-box>
      <a-box id="right-wall"
             position="19.5 9.5 0"
             width="1" height="17" depth="40"
             opacity="0"
             color="red"
             static-body></a-box>
      <a-box id="center"
             position="0 1.5 0"
             width="2" height="1" depth="2"
             opacity="0"
             color="pink"
             static-body></a-box>
      <a-cylinder id="tree-1"
                  radius="2"
                  height="6"
                  segments-height="2"
                  segments-radial="6"
                  position="-2.13 3 35.84"
                  opacity="0"
                  static-body>
      </a-cylinder>
      <!-- Ground -->
      <a-grid material="opacity:0"
              scale="4 4 4"
              static-body></a-grid>
    </a-scene>
  </section>
</div>
<script src="https://code.jquery.com/jquery-2.2.1.min.js"
            integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00="
            crossorigin="anonymous">
</script>
<script src="./main.js"></script>
</body>
</html>